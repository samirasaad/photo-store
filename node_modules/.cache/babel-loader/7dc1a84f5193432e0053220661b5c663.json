{"ast":null,"code":"var _jsxFileName = \"/home/samira/Smaira/unsplashProj/src/containers/Home/Home.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport SearchInput from '../../components/SearchInput/SearchInput';\nimport { searchRequest } from './../../store/actions/search';\nimport ImagesList from '../ImagesList/ImagesList';\nimport Pagination from \"react-js-pagination\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {};\n\n    this.componentDidUpdate = prevProps => {\n      const {\n        results\n      } = this.props;\n\n      if (prevProps.results !== this.props.results) {\n        this.setState({\n          photosList: results\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        searchRequest\n      } = this.props;\n      const {\n        activePage,\n        photosPerPage\n      } = this.state;\n      searchRequest({\n        query: this.state.searchTerm,\n        page: activePage,\n        per_page: photosPerPage\n      });\n    };\n\n    this.handlePageChange = pageNumber => {\n      const {\n        searchRequest\n      } = this.props;\n      const {\n        activePage,\n        photosPerPage\n      } = this.state;\n      this.setState({\n        activePage: pageNumber\n      }, () => {\n        searchRequest({\n          query: this.state.searchTerm,\n          page: activePage,\n          per_page: photosPerPage\n        });\n      });\n    };\n\n    this.state = {\n      searchTerm: '',\n      photosList: [],\n      activePage: 1,\n      photosPerPage: 25\n    };\n  }\n\n  render() {\n    const {\n      photosList,\n      activePage,\n      photosPerPage\n    } = this.state;\n    const {\n      total\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"Serach for a photo\"), /*#__PURE__*/React.createElement(SearchInput, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), photosList.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ImagesList, {\n      photosList: photosList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      className: \"justify-content-center\",\n      itemClass: \"page-item\",\n      linkClass: \"page-link\",\n      activePage: activePage,\n      itemsCountPerPage: photosPerPage,\n      totalItemsCount: total,\n      pageRangeDisplayed: 5,\n      onChange: this.handlePageChange,\n      prevPageText: \"Prev\",\n      nextPageText: \"Next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  locale: {\n    lang\n  },\n  search: {\n    results,\n    total,\n    total_pages\n  }\n}) => ({\n  lang,\n  results,\n  total,\n  total_pages\n});\n\nexport default connect(mapStateToProps, {\n  searchRequest\n})(Home);","map":{"version":3,"sources":["/home/samira/Smaira/unsplashProj/src/containers/Home/Home.js"],"names":["React","Component","connect","SearchInput","searchRequest","ImagesList","Pagination","Home","constructor","props","componentDidMount","componentDidUpdate","prevProps","results","setState","photosList","handleChange","e","searchTerm","target","value","handleSubmit","preventDefault","activePage","photosPerPage","state","query","page","per_page","handlePageChange","pageNumber","render","total","length","mapStateToProps","locale","lang","search","total_pages"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport SearchInput from '../../components/SearchInput/SearchInput';\nimport { searchRequest } from './../../store/actions/search';\nimport ImagesList from '../ImagesList/ImagesList';\nimport Pagination from \"react-js-pagination\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: '',\n      photosList: [],\n      activePage: 1,\n      photosPerPage:25\n    }\n  }\n  componentDidMount = () => {\n  }\n\n  componentDidUpdate = (prevProps) => {\n    const { results } = this.props;\n    if (prevProps.results !== this.props.results) {\n      this.setState({\n        photosList: results\n      })\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      searchTerm: e.target.value\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { searchRequest } = this.props;\n    const {activePage,photosPerPage } =this.state;\n    searchRequest({ query: this.state.searchTerm, page: activePage, per_page: photosPerPage })\n  }\n\n  handlePageChange = (pageNumber) => {\n    const { searchRequest } = this.props;\n    const { activePage, photosPerPage } = this.state;\n    this.setState({ activePage: pageNumber }, () => {\n      searchRequest({ query: this.state.searchTerm, page: activePage, per_page: photosPerPage })\n    })\n  }\n\n  render() {\n    const { photosList, activePage, photosPerPage } = this.state;\n    const { total } = this.props;\n    return (\n      <>\n        <h1>Serach for a photo</h1>\n        <SearchInput handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit} />\n        {photosList.length > 0 &&\n          <>\n            <ImagesList photosList={photosList} />\n            <div >\n              <Pagination\n                className='justify-content-center'\n                itemClass=\"page-item\"\n                linkClass=\"page-link\"\n                activePage={activePage}\n                itemsCountPerPage={photosPerPage}\n                totalItemsCount={total}\n                pageRangeDisplayed={5}\n                onChange={this.handlePageChange}\n                prevPageText='Prev'\n                nextPageText='Next'\n              />\n            </div>\n          </>\n        }\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({ locale: { lang }, search: { results, total, total_pages } }) => ({\n  lang,\n  results,\n  total,\n  total_pages,\n})\n\nexport default connect(mapStateToProps, { searchRequest })(Home);"]},"metadata":{},"sourceType":"module"}