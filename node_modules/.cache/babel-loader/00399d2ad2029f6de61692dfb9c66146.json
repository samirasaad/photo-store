{"ast":null,"code":"var _jsxFileName = \"/home/samira/Smaira/unsplashProj/src/containers/Home/Home.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport SearchInput from '../../components/SearchInput/SearchInput';\nimport { searchRequest } from './../../store/actions/search';\nimport ImagesList from '../ImagesList/ImagesList';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {// const {searchRequest} =this.props;\n      // searchRequest({query:'cars'})\n    };\n\n    this.componentDidUpdate = prevProps => {\n      const {\n        results\n      } = this.props;\n      console.log(result);\n\n      if (prevProps.results !== this.props.results) {\n        console.log('test');\n        console.log(this.props.results);\n        this.setState({\n          ImagesList: result\n        }, () => {\n          console.log(this.state.results);\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        searchRequest\n      } = this.props;\n      searchRequest({\n        query: this.state.searchTerm,\n        page: 1,\n        per_page: 5\n      });\n    };\n\n    this.state = {\n      searchTerm: '',\n      imgaesList: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, \"Serach for a photo\"), /*#__PURE__*/React.createElement(SearchInput, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ImagesList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = ({\n  locale: {\n    lang\n  },\n  search: {\n    results,\n    total,\n    total_pages\n  }\n}) => ({\n  lang,\n  results,\n  total,\n  total_pages\n});\n\nexport default connect(mapStateToProps, {\n  searchRequest\n})(Home);","map":{"version":3,"sources":["/home/samira/Smaira/unsplashProj/src/containers/Home/Home.js"],"names":["React","Component","connect","SearchInput","searchRequest","ImagesList","Home","constructor","props","componentDidMount","componentDidUpdate","prevProps","results","console","log","result","setState","state","handleChange","e","searchTerm","target","value","handleSubmit","preventDefault","query","page","per_page","imgaesList","render","mapStateToProps","locale","lang","search","total","total_pages"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,0CAAxB;AACA,SAAQC,aAAR,QAA4B,8BAA5B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAC3BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAOnBC,iBAPmB,GAOC,MAAK,CACvB;AACA;AACD,KAVkB;;AAAA,SAanBC,kBAbmB,GAaGC,SAAD,IAAc;AACjC,YAAM;AAACC,QAAAA;AAAD,UAAY,KAAKJ,KAAvB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;;AACD,UAAGJ,SAAS,CAACC,OAAV,KAAsB,KAAKJ,KAAL,CAAWI,OAApC,EAA4C;AACvCC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWI,OAAvB;AACA,aAAKI,QAAL,CAAc;AACZX,UAAAA,UAAU,EAACU;AADC,SAAd,EAEE,MAAI;AAACF,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKG,KAAL,CAAWL,OAAvB;AAAgC,SAFvC;AAGJ;AACD,KAvBkB;;AAAA,SAwBjBM,YAxBiB,GAwBDC,CAAD,IAAM;AACrB,WAAKH,QAAL,CAAc;AACZI,QAAAA,UAAU,EAACD,CAAC,CAACE,MAAF,CAASC;AADR,OAAd;AAGD,KA5BkB;;AAAA,SA6BnBC,YA7BmB,GA6BHJ,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACK,cAAF;AACA,YAAM;AAACpB,QAAAA;AAAD,UAAiB,KAAKI,KAA5B;AACAJ,MAAAA,aAAa,CAAC;AAACqB,QAAAA,KAAK,EAAC,KAAKR,KAAL,CAAWG,UAAlB;AAA6BM,QAAAA,IAAI,EAAC,CAAlC;AAAoCC,QAAAA,QAAQ,EAAC;AAA7C,OAAD,CAAb;AAED,KAlCkB;;AAEjB,SAAKV,KAAL,GAAa;AACXG,MAAAA,UAAU,EAAE,EADD;AAEXQ,MAAAA,UAAU,EAAC;AAFA,KAAb;AAID;;AA6BDC,EAAAA,MAAM,GAAG;AACP,wBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEI,oBAAC,WAAD;AAAa,MAAA,YAAY,EAAE,KAAKX,YAAhC;AACa,MAAA,YAAY,EAAE,KAAKK,YADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAII,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADF;AAQD;;AA7C0B;;AAgD7B,MAAMO,eAAe,GAAG,CAAC;AAACC,EAAAA,MAAM,EAAC;AAACC,IAAAA;AAAD,GAAR;AAAgBC,EAAAA,MAAM,EAAC;AAACrB,IAAAA,OAAD;AAAUsB,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB;AAAvB,CAAD,MAA2D;AACnFH,EAAAA,IADmF;AAEnFpB,EAAAA,OAFmF;AAGnFsB,EAAAA,KAHmF;AAInFC,EAAAA;AAJmF,CAA3D,CAAxB;;AAOA,eAAejC,OAAO,CAAC4B,eAAD,EAAiB;AAAC1B,EAAAA;AAAD,CAAjB,CAAP,CAAyCE,IAAzC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport SearchInput from '../../components/SearchInput/SearchInput';\nimport {searchRequest} from './../../store/actions/search';\nimport ImagesList from '../ImagesList/ImagesList';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: '',\n      imgaesList:[]\n    }\n  }\n  componentDidMount = () =>{\n    // const {searchRequest} =this.props;\n    // searchRequest({query:'cars'})\n  }\n\n\n  componentDidUpdate = (prevProps) =>{\n    const {results} = this.props;\n    console.log(result)\n   if(prevProps.results !== this.props.results){\n        console.log('test')\n        console.log(this.props.results)\n        this.setState({\n          ImagesList:result\n        },()=>{console.log(this.state.results)})\n   }\n  }\n    handleChange = (e) =>{\n    this.setState({\n      searchTerm:e.target.value\n    })\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {searchRequest} =this.props;\n    searchRequest({query:this.state.searchTerm,page:1,per_page:5})\n\n  }\n  render() {\n    return (\n      <>\n        <h1>Serach for a photo</h1>\n          <SearchInput handleChange={this.handleChange}\n                       handleSubmit={this.handleSubmit}/>\n          <ImagesList />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({locale:{lang}, search:{results, total, total_pages}}) =>({\nlang,\nresults,\ntotal,\ntotal_pages,\n})\n\nexport default connect(mapStateToProps,{searchRequest})(Home);"]},"metadata":{},"sourceType":"module"}